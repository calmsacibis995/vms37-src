	.TITLE	RSXDATAS - RSX PURE AND IMPURE DATA STORAGE
	.IDENT	'V03-001'
;
;****************************************************************************
;*									    *
;*  COPYRIGHT (c) 1978, 1980, 1982 BY					    *
;*  DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS.		    *
;*  ALL RIGHTS RESERVED.						    *
;* 									    *
;*  THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND COPIED   *
;*  ONLY IN  ACCORDANCE WITH  THE  TERMS  OF  SUCH  LICENSE  AND WITH THE   *
;*  INCLUSION OF THE ABOVE COPYRIGHT NOTICE. THIS SOFTWARE OR  ANY  OTHER   *
;*  COPIES THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY   *
;*  OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE IS  HEREBY   *
;*  TRANSFERRED.							    *
;* 									    *
;*  THE INFORMATION IN THIS SOFTWARE IS  SUBJECT TO CHANGE WITHOUT NOTICE   *
;*  AND  SHOULD  NOT  BE  CONSTRUED AS  A COMMITMENT BY DIGITAL EQUIPMENT   *
;*  CORPORATION.							    *
;* 									    *
;*  DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE  OR  RELIABILITY OF ITS   *
;*  SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.		    *
;* 									    *
;*									    *
;****************************************************************************
;
;++
;
; FACILITY:
;
;	VAX/VMS RSX11M AME
;
; ABSTRACT:
;
; 	DEFINITION FILE FOR THE RSX PURE AND IMPURE DATA AREA
;--
;
; AUTHOR: R.HEINEN  15-FEB-77
;
; PREVIOUSLY MODIFIED BY:
;
;	Tim Halvorsen
;	Andrew C. Goldstein
;	Michael S. Harvey
;	Peter H. Lipman
;
; MODIFIED BY:
;
;	V001	MSH026		Michael S. Harvey	23-Mar-82
;		Eliminate dependencies on VMS Executive symbols.
;
;--
;
; EXTERNAL DEFINITIONS
;
	$DCDEF				; DEFINE DEVICE CLASSES AND TYPES
	$RSXDEF				; DEFINE RSX INTERNAL SYMBOLS
	$FABDEF				; DEFINE FAB
	DRERR$				; DEFINE DIRECTIVE ERROR CODES
	IOERR$				; DEFINE I/O ERROR CODES
;
; LOCAL MACRO
;
	.MACRO	DEVDEF	AA,B,C,D
	...BEGIN = .
	.BLKB	LUT_SIZE
	...END = .
	. = ...BEGIN
	.LONG	0,0
	.WORD	1,'C
	.LONG	0
	.WORD	^A/'AA/
	.LONG	0,0,0
	.NCHR	XX,<'D>
	.BYTE	XX
	.ASCII	/'D:/
	.BLKB	16-XX-2
	.WORD	^A/'B/
	. = ...END
	.ENDM

	.MACRO	ERRDEF	VAX,RSX
	.WORD	SS$_'VAX,IE.'RSX
	.ENDM

	.MACRO	SUCDEF	VAX,RSX
	.WORD	SS$_'VAX,IS.'RSX
	.ENDM

	.SBTTL	PURE STORAGE
 
	.PSECT	RSXPURE,EXE,NOWRT,LONG,SHR,PIC
;
; SYSTEM PERMANENT FILE NAME STRINGS AND FILE DEFAULTS
;
RSX$T_SYSINPUT::	.BYTE	RSX$S_SYSINPUT
RSX$A_SYSINPUT::	.ASCII	'SYS$INPUT:'
RSX$S_SYSINPUT==.-RSX$A_SYSINPUT-1
RSX$Q_SYSINPUT::	.LONG	RSX$S_SYSINPUT
			.ADDRESS RSX$A_SYSINPUT

RSX$T_SYSOUTPUT::	.BYTE	RSX$S_SYSOUT
RSX$A_SYSOUT::		.ASCII	'SYS$OUTPUT:'
RSX$S_SYSOUT==.-RSX$A_SYSOUT-1

RSX$T_SYSDEF::		.ASCIC	'SYS$SYSTEM:.EXE'
RSX$T_USERDEF::		.ASCIC	'SYS$DISK:.EXE'
RSX$T_LIBDEF::		.ASCIC	'SYS$LIBRARY:.EXE'
RSX$T_SYSPRINT::	.ASCIC	'SYS$PRINT'
RSX$Q_LOGINOUT::	.ASCID	'SYS$SYSTEM:LOGINOUT'
;
; CONVERSIONS FROM DEVICE TYPE TO INTERNAL RSX CODES
;
RSX$A_DEVTYPE::
	.BYTE	DC$_TERM
	.BYTE	DC$_DISK
	.BYTE	DC$_TAPE
	.BYTE	DC$_LP
	.BYTE	DC$_CARD
	.BYTE	0
;
; SUCCESS STATUS RETURN CONVERSION TABLE
;
RSX$A_RSXQIOSUC::		; RSX QIO SUCCESS CODES
	SUCDEF	NORMAL,SUC
	SUCDEF	RDDELDATA,RDD
	.WORD	0,0
;
; ERROR STATUS RETURN CONVERSION TABLE
;
RSX$A_RSXQIOERR::			; RSX QIO ERROR CODES
	ERRDEF	ABORT,ABO
	ERRDEF	ACCONFLICT,WAC
	ERRDEF	ACCVIO,SPC
	ERRDEF	ACPVAFUL,NOD
	ERRDEF	BADATTRIB,WAT
	ERRDEF	BADCHKSUM,CKS
	ERRDEF	BADESCAPE,IES
	ERRDEF	BADFILEHDR,BHD
	ERRDEF	BADFILENAME,BNM
	ERRDEF	BADFILEVER,BVR
	ERRDEF	BADIRECTORY,BDR
	ERRDEF	BADPARAM,BAD
	ERRDEF	BEGOFFILE,EOT
	ERRDEF	BLOCKCNTERR,FHE
	ERRDEF	BUFBYTALI,BYT
	ERRDEF	BUFNOTALIGN,BYT
	ERRDEF	CANCEL,ABO
	ERRDEF	CHANINTLK,LNL
	ERRDEF	CLIFRCEXT,ABO
	ERRDEF	CTRLERR,FHE
	ERRDEF	DATACHECK,BCC
	ERRDEF	DATAOVERUN,DAO
	ERRDEF	DEVACTIVE,DNR
	ERRDEF	DEVALLOC,DAA
	ERRDEF	DEVASSIGN,DAA
	ERRDEF	DEVCMDERR,FHE
	ERRDEF	DEVFOREIGN,DNR
	ERRDEF	DEVICEFULL,DFU
	ERRDEF	DEVMOUNT,DNA
	ERRDEF	DEVNOTALLOC,DNA
	ERRDEF	DEVNOTMOUNT,DNR
	ERRDEF	DEVOFFLINE,OFL
	ERRDEF	DEVREQERR,FHE
	ERRDEF	DIRFULL,DFU
	ERRDEF	DRVERR,FHE
	ERRDEF	DUPFILENAME,DUP
	ERRDEF	ENDOFFILE,EOF
	ERRDEF	ENDOFTAPE,EOT
	ERRDEF	ENDOFVOLUME,EOV
	ERRDEF	EXCPUTIM,ABO
	ERRDEF	EXDISKQUOTA,DSQ
	ERRDEF	EXQUOTA,NOD
	ERRDEF	FCPREADERR,RER
	ERRDEF	FCPREPSTN,RER
	ERRDEF	FCPREWNDERR,RER
	ERRDEF	FCPSPACERR,RER
	ERRDEF	FCPWRITERR,WER
	ERRDEF	FILACCERR,PRI
	ERRDEF	FILALRACC,ALN
	ERRDEF	FILELOCKED,CLO
	ERRDEF	FILENUMCHK,SNC
	ERRDEF	FILESEQCHK,SQC
	ERRDEF	FILESTRUCT,BHD
	ERRDEF	FILNOTACC,NLN
	ERRDEF	FILNOTCNTG,BHD
	ERRDEF	FILNOTEXP,EXP
	ERRDEF	FORMAT,BCC
	ERRDEF	HANGUP,OFL
	ERRDEF	HEADERFULL,HFU
	ERRDEF	IDXFILEFULL,IFU
	ERRDEF	ILLBLKNUM,BLK
	ERRDEF	ILLCNTRFUNC,IFC
	ERRDEF	ILLEFC,IEF
	ERRDEF	ILLIOFUNC,IFC
	ERRDEF	ILLLBLAST,ADP
	ERRDEF	ILLSEQOP,ISQ
	ERRDEF	ILLSER,SDP
	ERRDEF	ILLUSRLBLRD,RAT
	ERRDEF	ILLUSRLBLWT,WAT
	ERRDEF	INSFARG,SDP
	ERRDEF	INSFBUFDP,NOD
	ERRDEF	INSFMAPREG,NOD
	ERRDEF	INSFMEM,NOD
	ERRDEF	INSFWSL,NOD
	ERRDEF	IVADDR,BLK
	ERRDEF	IVBUFLEN,SPC
	ERRDEF	IVCHAN,ILU
	ERRDEF	IVDEVNAM,IDU
	ERRDEF	IVMODE,IFC
	ERRDEF	IVSSRQ,SDP
	ERRDEF	MBFULL,RSU
	ERRDEF	MBTOOSML,DAO
	ERRDEF	MCNOTVALID,FHE
	ERRDEF	MEDOFL,OFL
	ERRDEF	NODATA,EOF
	ERRDEF	NOIOCHAN,ILU
	ERRDEF	NOLINKS,NDR
	ERRDEF	NOMOREFILES,NSF
	ERRDEF	NONEXDRV,OFL
	ERRDEF	NONEXPR,INS
	ERRDEF	NONLOCAL,IDU
	ERRDEF	NOPRIV,PRI
	ERRDEF	NOSUCHDEV,IDU
	ERRDEF	NOSUCHFILE,NSF
	ERRDEF	NOSUCHNODE,NNN
	ERRDEF	NOTAPEOP,DNR
	ERRDEF	NOTFILEDEV,BDV
	ERRDEF	NOTINTBLSZ,RBG
	ERRDEF	NOTLABELMT,BHD
	ERRDEF	NOTSQDEV,IDU
	ERRDEF	OPINCOMPL,ABO
	ERRDEF	OPRABORT,ABO
	ERRDEF	PARITY,VER
	ERRDEF	PARTESCAPE,PES
	ERRDEF	REJECT,CNR
	ERRDEF	SUSPENDED,ACT
	ERRDEF	TAPEPOSLOST,FHE
	ERRDEF	TIMEOUT,TMO
	ERRDEF	TOOMANYVER,BVR
	ERRDEF	UNASEFC,IEF
	ERRDEF	UNSAFE,FHE
	ERRDEF	VECINUSE,RSU
	ERRDEF	VOLINV,DNR
	ERRDEF	WRITLCK,WLK
	.WORD	0,0

	.SBTTL	IMPURE STORAGE
 
	.PSECT	RSXPATCH,EXE,LONG,WRT

RSX$A_PATCH::
	.BLKB	512			; 1 PAGE FOR PATCH AREA

	.PSECT	RSXIMPURE,EXE,LONG,NOSHR
 
	.ALIGN	LONG

RSX$G_CLIAP::
	.LONG	0			; OLD CLI AP POINTER
 
RSX$G_LOWP0ADDR::			; STORAGE FOR GARBAGE COLLECTION
	.LONG	0,0			;
RSX$A_POOL::				; POOL ADDRESS
	.LONG	0,0			;
RSX$A_EXITBLOCK::			; EXIT BLOCK
	.LONG	0			;
	.LONG	RSX$FORCEEXIT		; ADDRESS OF SERVICE ROUTINE
	.LONG	0			; NO ARGUMENTS
	.LONG	.			; ADDRESS TO STORE ARG
;
; RAB AND FAB FOR ACCESS TO ALL PROCESS PERMANENT FILES
;
RSX$G_FAB::
	$FAB
RSX$G_RAB::
	$RAB
RSX$G_NAM::
	$NAM	ESA=EXPNAME,ESS=NAM$C_MAXRSS
EXPNAME:
	.BLKB	NAM$C_MAXRSS
;
; PRE-DEFINED LOGICAL NAME ENTRIES
;
RSX$A_TIIDEV::				; TI DESC. FOR INPUT
	DEVDEF	<TI>,<$I>,<1@LUTV_PRM>,<SYS$INPUT>
RSX$A_TIODEV::				; TI OUTPUT DESC.
	DEVDEF	<TI>,<$O>,<1@LUTV_PRM>,<SYS$OUTPUT>
RSX$A_CLDEV::				; CL OR ERROR DEVICE
	DEVDEF	<CL>,<$E>,<1@LUTV_PRM>,<SYS$ERROR>
RSX$A_CODEV::				; CO DESC.
	DEVDEF	<CO>,<$C>,<1@LUTV_PRM>,<SYS$COMMAND>
RSX$A_SYDEV::				; SY DESC.
	DEVDEF	<SY>,<  >,0,<SYS$DISK>
RSX$A_OVDEV::				; OV DESC.
	DEVDEF	<OV>,<  >,0,<SYS$DISK>
	.END
