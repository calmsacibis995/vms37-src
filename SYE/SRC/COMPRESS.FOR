C	Version 'V03-000'
C
C****************************************************************************
C*									    *
C*  COPYRIGHT (c) 1978, 1980, 1982 BY					    *
C*  DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS.		    *
C*  ALL RIGHTS RESERVED.						    *
C* 									    *
C*  THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND COPIED   *
C*  ONLY IN  ACCORDANCE WITH  THE  TERMS  OF  SUCH  LICENSE  AND WITH THE   *
C*  INCLUSION OF THE ABOVE COPYRIGHT NOTICE. THIS SOFTWARE OR  ANY  OTHER   *
C*  COPIES THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY   *
C*  OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE IS  HEREBY   *
C*  TRANSFERRED.							    *
C* 									    *
C*  THE INFORMATION IN THIS SOFTWARE IS  SUBJECT TO CHANGE WITHOUT NOTICE   *
C*  AND  SHOULD  NOT  BE  CONSTRUED AS  A COMMITMENT BY DIGITAL EQUIPMENT   *
C*  CORPORATION.							    *
C* 									    *
C*  DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE  OR  RELIABILITY OF ITS   *
C*  SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.		    *
C* 									    *
C*									    *
C****************************************************************************
C
C
C
C	AUTHOR	BRIAN PORTER		CREATION DATE	11-OCT-1979
C
C	Functional description:
C
C	Provides the field width for integers and character strings.
C
C	Modified by:
C
C	v02-002	BP0002		Brian Porter,		27-AUG-1981
C		Corrected value assigned to 'constant'.
C
C	v02-001	BP0001		Brian Porter		17-JUN-1980
C		Corrected compressc to pass only positive values.
C**
C
C


	INTEGER FUNCTION COMPRESS4*4 (INTEGER4)



	INTEGER*4		INTEGER4

	DOUBLE PRECISION	CONSTANT



	CONSTANT = 2147483648.

	IF (INTEGER4 .LT. 0) THEN

	CONSTANT = CONSTANT + DFLOTJ(JIAND(INTEGER4,'7FFFFFFF'X))
	ELSE

	CONSTANT = DFLOTJ(MAX(1,INTEGER4))
	ENDIF

	COMPRESS4 = 1 + JIDINT(DLOG10(CONSTANT))

	RETURN

	END




	INTEGER FUNCTION COMPRESSF*4 (REAL8,DECIMAL_PLACES)



	REAL		REAL8

	BYTE		DECIMAL_PLACES



	COMPRESSF = (2 + DECIMAL_PLACES) + JINT(ALOG10(AMAX1(1.0,REAL8)))

	RETURN

	END




	INTEGER FUNCTION COMPRESSC*4 (STRING)



	CHARACTER*(*)	STRING



	COMPRESSC = max(1,(MIN(33,(LIB$LOCC('*',STRING)-1))))

	RETURN

	END
