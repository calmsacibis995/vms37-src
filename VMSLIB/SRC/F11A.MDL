;	Version 'V03-000'
;
;****************************************************************************
;*									    *
;*  COPYRIGHT (c) 1978, 1980, 1982 BY					    *
;*  DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS.		    *
;*  ALL RIGHTS RESERVED.						    *
;* 									    *
;*  THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND COPIED   *
;*  ONLY IN  ACCORDANCE WITH  THE  TERMS  OF  SUCH  LICENSE  AND WITH THE   *
;*  INCLUSION OF THE ABOVE COPYRIGHT NOTICE. THIS SOFTWARE OR  ANY  OTHER   *
;*  COPIES THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY   *
;*  OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE IS  HEREBY   *
;*  TRANSFERRED.							    *
;* 									    *
;*  THE INFORMATION IN THIS SOFTWARE IS  SUBJECT TO CHANGE WITHOUT NOTICE   *
;*  AND  SHOULD  NOT  BE  CONSTRUED AS  A COMMITMENT BY DIGITAL EQUIPMENT   *
;*  CORPORATION.							    *
;* 									    *
;*  DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE  OR  RELIABILITY OF ITS   *
;*  SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.		    *
;* 									    *
;*									    *
;****************************************************************************
;
;	MODIFIED BY:
;
;	0102	MCN0003		Maria del C. Nasr	15-Oct-1979   15:15
;		Add HDR3 of magnetic tape file
;

;
; FILE HEADER DEFINITIONS FOR FILE-11 STRUCTURE LEVEL 1
;
	$STRUCT	FHD		; HEADER AREA
	F IDOFFSET,B		; IDENT AREA OFFSET IN WORDS
	F MPOFFSET,B		; MAP AREA OFFSET IN WORDS
	F FID,W,2		; FILE ID
	    S FID_NUM,,W	; FILE NUMBER
	    S FID_SEQ,,W	; FILE SEQUENCE NUMBER
	F STRUCLEV,W		; FILE STRUCTURE LEVEL
	C LEVEL1,257		; 401 OCTAL = STRUCTURE LEVEL 1
	F FILEOWNER,W		; FILE OWNER UIC
	    S UICMEMBER,,B	; UIC MEMBER NUMBER
	    S UICGROUP,,B	; UIC GROUP NUMBER
	F FILEPROT,W		; FILE PROTECTION
	    V<
		SYSPRO,4	; SYSTEM PROTECTION
		OWNPRO,4	; OWNER PROTECTION
		GROUPPRO,4	; GROUP PROTECTION
		WORLDPRO,4	; WORLD PROTECTION
	    >
	F FILECHAR,W		; FILE CHARACTERISTICS
	    S USERCHAR,,B	; USER CONTROLLED CHARACTERISTICS
	    V<
		,3		; RESERVED
		READCHECK	; VERIFY ALL READ OPERATIONS
		WRITCHECK	; VERIFY ALL WRITE OPERATIONS
		CONTIGB		; KEEP FILE AS CONTIGUOUS AS POSSIBLE
		LOCKED		; FILE IS DEACESS LOCKED	
		CONTIG		; FILE IS CONTIGUOUS
	    >
	    S SYSCHAR,,B	; SYSTEM CONTROLLED CHARACTERISTICS
	    V<
		,6		; RESERVED
		BADBLOCK	; FILE CONTAINS BAD BLOCKS
		MARKDEL		; FILE IS MARKED FOR DELETE
	    >
	F RECATTR,W,16		; FILE RECORD ATTRIBUTES
	L LENGTH		; LENGTH OF HEADER AREA
	F ,W,232		; REST OF FILE HEADER
	F CHECKSUM,W		; FILE HEADER CHECKSUM
	E

	$STRUCT	FHI		; IDENT AREA
	F FILENAME,W,3		; FILE NAME (RAD-50)
	F FILETYPE,W		; FILE TYPE (RAD-50)
	F VERSION,W		; VERSION NUMBER (BINARY)
	F REVISION,W		; REVISION NUMBER (BINARY)
	F REVDATE,T,7		; REVISION DATE (ASCII DDMMMYY)
	F REVTIME,T,6		; REVISION TIME (ASCII HHMMSS)
	F CREDATE,T,7		; CREATION DATE (ASCII DDMMMYY)
	F CRETIME,T,6		; CREATION TIME (ASCII HHMMSS)
	F EXPDATE,T,7		; EXPIRATION DATE (ASCII DDMMMYY)
	F ,B,1			; DUMMY BYTE TO ROUND UP
	L LENGTH		; LENGTH OF IDENT AREA
	F MTHDR1,T,80		; HDR1 OF ANSI MAGNETIC TAPE FILE
	F MTHDR2,T,80		; HDR2 OF ANSI MAGNETIC TAPE FILE
	F MTHDR3,T,80		; HDR3 OF ANSI MAGNETIC TAPE FILE
	E

	$STRUCT	FHM		; MAP AREA
	M 1
	F EX_SEGNUM,B		; EXTENSION SEGMENT NUMBER OF THIS HEADER
	F EX_RVN,B		; EXTENSION RELATIVE VOLUME NUMBER
	F EX_FILNUM,W		; EXTENSION FILE NUMBER
	F EX_FILSEQ,W		; EXTENSION FILE SEQUENCE NUMBER
	F COUNTSIZE,B		; RETRIEVAL POINTER COUNT FIELD SIZE
	F LBNSIZE,B		; RETRIEVAL POINTER LBN FIELD SIZE
	F INUSE,B		; NUMBER OF RETRIEVAL WORDS IN USE
	F AVAIL,B		; NUMBER OF RETRIEVAL WORDS AVAILABLE
	L POINTERS		; START OF RETRIEVAL POINTERS
	L LENGTH		; LENGTH OF MAP AREA

				; RETRIEVAL POINTER FORMAT
	P 1
	F HIGHLBN,B		; HIGH ORDER LBN
	F COUNT,B		; BLOCK COUNT
	F LOWLBN,W		; LOW ORDER LBN
	P 1
	-F PREVHLBN,B
	-F PREVCOUNT,B
	-F PREVLLBN,W		; PREVIOUS RETRIEVAL POINTER
	E

;+
;
; HOME BLOCK DEFINITIONS FOR FILES-11 STRUCTURE LEVEL 1
;
;-

	$STRUCT	HMB		; HOME BLOCK STRUCTURE
	F IBMAPSIZE,W		; INDEX FILE BITMAP SIZE, BLOCKS
	F IBMAPLBN,L		; INDEX FILE BITMAP STARTING LBN
	F MAXFILES,W		; MAXIMUM # FILES ON VOLUME
	F CLUSTER,W		; STORAGE BITMAP CLUSTER FACTOR
	F DEVTYPE,W		; DISK DEVICE TYPE
	F STRUCLEV,W		; VOLUME STRUCTURE LEVEL
	C LEVEL1,257		; 401 OCTAL = STRUCTURE LEVEL 1
	F VOLNAME,T,12		; VOLUME NAME (ASCII)
	F ,B,4			; SPARE
	F VOLOWNER,W		; VOLUME OWNER UIC
	F PROTECT,W		; VOLUME PROTECTION
		V<
		SYSPRO,4	; SYSTEM PROTECTION
		OWNPRO,4	; OWNER PROTECTION
		GROUPPRO,4	; GROUP PROTECTION
		WORLDPRO,4	; WORLD PROTECTION
		>
	F VOLCHAR,W		; VOLUME CHARACTERISTICS
	F FILEPROT,W		; DEFAULT FILE PROTECTION
	F ,B,6			; SPARE
	F WINDOW,B		; DEFAULT WINDOW SIZE
	F EXTEND,B		; DEFAULT FILE EXTEND
	F LRU_LIM,B		; DEFAULT LRU LIMIT
	F ,B,11		; SPARE
	F CHECKSUM1,W		; FIRST CHECKSUM
	F CREDATE,T,14		; VOLUME CREATION DATE
	F ,B,398		; SPARE
	F VOLNAME2,T,12	; 2ND COPY OF VOLUME NAME
	F OWNERNAME,T,12	; VOLUME OWNER NAME
	F FORMAT,T,12		; VOLUME FORMAT TYPE
	F ,B,2			; SPARE
	F CHECKSUM2,W		; SECOND CHECKSUM
	E

