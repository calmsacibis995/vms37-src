; STARDEFQZ.MDL - system user interface definitions
;
;	Version	'V03-002'
;
;****************************************************************************
;*									    *
;*  COPYRIGHT (c) 1978, 1980, 1982 BY					    *
;*  DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS.		    *
;*  ALL RIGHTS RESERVED.						    *
;* 									    *
;*  THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND COPIED   *
;*  ONLY IN  ACCORDANCE WITH  THE  TERMS  OF  SUCH  LICENSE  AND WITH THE   *
;*  INCLUSION OF THE ABOVE COPYRIGHT NOTICE. THIS SOFTWARE OR  ANY  OTHER   *
;*  COPIES THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY   *
;*  OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE IS  HEREBY   *
;*  TRANSFERRED.							    *
;* 									    *
;*  THE INFORMATION IN THIS SOFTWARE IS  SUBJECT TO CHANGE WITHOUT NOTICE   *
;*  AND  SHOULD  NOT  BE  CONSTRUED AS  A COMMITMENT BY DIGITAL EQUIPMENT   *
;*  CORPORATION.							    *
;* 									    *
;*  DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE  OR  RELIABILITY OF ITS   *
;*  SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.		    *
;* 									    *
;*									    *
;****************************************************************************

;++
;
; FACILITY:  VAX/VMS System Macro Libraries
;
; ABSTRACT:
;
;	This file contains the MDL source for all user visible operating
;	system interfaces from Q to Z.
;
; ENVIRONMENT:
;
;	n/a
;
;--
;
;
; AUTHOR:  The VMS Group	 CREATION DATE:  1-Aug-1976
;
; MODIFIED BY:
;
;	V03-002	MMD0001		Meg Dumont,	5-Apr-1982  14:49
;		Add $XWDEF for XWDRIVER
;
;	V03-001	RKS0001		RICK SPITZ		29-MAR-1982
;		ADD SPECIAL TT2 CHARACTERISTICS FOR DCL SPAWN
;
;	V02-025	MLJ35309	Martin L. Jack,	18-Jan-1982  15:20
;		Add SMO$K_NODISWAP to support START/QUEUE/NODISABLE.
;
;	V02-024 MIR0062		Michael I Rosenblum	23-Dec-1981
;		Remove ANSI to reflect change in functionality.
;
;	V02-023	RKS0023		RICK SPITZ		11-DEC-1981
;		MOVE TAST DEFINITIONS TO SYSDEF
;
;	V02-022	MIR0050		Michael I. Rosenblum	2-DEC-1981
;		Add LQP02, LA100 to terminal list and add EDIT qualifier
;		to $TT2DEF. Changed ANSI to ANSICRT to reflect change
;		in definition of this bit.  ANSI will go away later.
;		Removed SUBSET.
;
;	V02-021	RKS0021		RICK SPITZ		1-DEC-1981
;		EHHANCE THE TAST PACKET DEFINITIONS.
;
;	V02-020	JLV0124		Jake VanNoy		1-Dec-1981
;		Add DEC crt bit to $TT2DEF. Will soon replace ANSI
;		which will then replace SUBSET.
;
;	V02-019	ACG0229		Andrew C. Goldstein,	30-Nov-1981  14:00
;		Add ACP statistics block definitions ($SBKDEF)
;
;	V02-018	RKS0018		RICK SPITZ		16-NOV-1981
;		ADD TERMINAL AST PACKET DEFINITIONS. USED FOR OUT OF
;		BAND CHARACTER PROCESSING
;
;	V02-017	JLV0114		Jake VanNoy		11-Nov-1981
;		Add SETSPEED to $TT2DEF.
;
;	V02-016 RNG0001		Rod N. Gamache		5-Nov-1981
;		Add new error definitions to $XMDEF.
;		Add new delete bit to $SQRDEF.
;
;	V02-015	MLJ0055		Martin L. Jack,	31-Oct-1981  13:17
;		Add $USGDEF for ANALYZE/DISK_STRUCTURE/USAGE.
;
;	V02-014	GWF0111		Gary W. Fowler		26-Oct-1981
;		Add items for WS extent
;
;	V02-013	JLV0089		Jake VanNoy		29-Sep-1981
;		Rearrange bits in $TT2DEF.
;
;	V02-012	MIR0041		Michael I. Rosenblum	22-Sept-1981
;		Added subset bit to tt2def, Added VK100.
;
;	V02-011	MIR0034		Michael I. Rosenblum	29-Aug-1981
;		Remove GIGI from supported terminals list
;
;	V02-010	MIR0030		Michael I. Rosenblum	29-Aug-1981
;		Add VT105 reorder VT table in $TTDEF.
;
;	V009	TMH0009		Tim Halvorsen		26-Aug-1981
;		Add new DMP XM error bit for tributary error.
;
;	V02-008	MIR0019		Michael I. Rosenblum	25-Aug-1981
;		Add la12 and la24 to ttdef
;
;	V02-007 JAY0001		John A. Ywoskus		25-Aug-1981
;		Added SYIDEF definitions for $GETSYI
;		(get system information) system service.
;
;	V02-006	MIR0019		Michael I. Rosenblum	24-Aug-1981
;		Added new terminal types definitions.
;
;	V02-005	LMK0001		Len Kawell		13-Aug-1981
;		Added new XMDEF definitions for MODEM control.
;
;	V02-004 WMC0001		Wayne Cardoza		12-Aug-1981
;		Added SEC$M_PAGFIL to SECDEF.
;
;	V02-003	JLV0065		Jake VanNoy		12-Aug-1981
;		Added $TT2DEF.
;
;	V02-002	GWF0094		Gary W. Fowler		29-Jul-1981
;		Change SJHDEF so job name is ASCIC string.  Change label
;		SJH$Q_JOBNAME to SJH$T_JOBNAME.
;
;----

;+
;
; Statistics block. This block is used to report various data regarding
; an open file to the requesting program.
;
;-

	$STRUCT	SBK

;
; The first two longwords are presented in inverted form for compatibility
; with the old RSX-11 statistics block.
;
	F STLBN				; starting LBN if contiguous
	    S STLBNH,,W			; high order word
	    S STLBNL,,W			; low order word
	F FILESIZE			; file size
	    S FILESIZH,,W		; high order word
	    S FILESIZL,,W		; low order word
;
; The following two fields are for RSX-11 compatibility
;
	F ACNT,B			; low byte of access count
	F LCNT,B			; low byte of lock count

	F FCB				; address of file control block
	F ,W				; spare
	F ACNT,W			; access count
	F LCNT,W			; lock count (against writers)
	F WCNT,W			; writer count
	F TCNT,W			; truncate lock count
	F READS				; count of reads executed on channel
	F WRITES			; count of writes executed on channel
	L LENGTH

	E

;+
; PROCESS OR GLOBAL SECTION DEFINITIONS
;-
	$STRUCT	SEC

;
; ***** L_VBN, L_WINDOW, AND B_PFC MUST BE THE SAME OFFSET VALUES AS THE
; ***** EQUIVALENTLY NAMED OFFSETS IN $PFLDEF
;
	F	GSD,L			;GLOBAL SECTION DESCRIPTOR ADDRESS
	S	CCB,,L			;CHANNEL CONTROL BLOCK ADDRESS IF PROCESS SECTION
	F	SECXFL,W		;SECTION INDEX FORWARD LINK
	F	SECXBL,W		;SECTION INDEX BACKWARD LINK
	F	VPXPFC,L		;START VIRT PAGE INDEX & PFC
		V <			;
		VPX,22			; STARTING VIRTUAL PAGE INDEX
		,2			; UNUSED
		PFC,8			; PAGE FAULT CLUSTER
	>
	S	PFC,3,B			;PAGE FAULT CLUSTER
	F	WINDOW,L		;WINDOW CONTROL BLOCK
	F	VBN,L			;BASE VIRTUAL BLOCK NUMBER
	F	FLAGS,W			;VARIOUS CONTROL FLAGS
		V <M
		GBL,1			; GLOBAL SECTION
		CRF,1			; COPY ON REFERENCE
		DZRO,1			; DEMAND ZERO
		WRT,1			; WRITABLE
		SHMGS,1			; SHARED MEMORY GLOBAL SECTION
		,1			; SPARE
		WRTMOD,2		; WRITE ACCESS MODE FOR SECTION
		AMOD,2			; ACCESS MODE OF SECTION
		,4			; SPARE
		PERM,1			; PERMANENT SECTION
		SYSGBL,1		; 1 = SYSTEM GLOBAL, 0 = GROUP GLOBAL
;
; *****  THE FOLLOWING FLAGS ARE INDICATORS FOR $MGBLSC AND $CRMPSC SYSTEM
; *****  SERVICE REQUESTS AND ARE NOT STORED IN THE FLAGS WORD FIELD.
;
		PFNMAP,1		; MAP TO SPECIFIC PFN'S
		EXPREG,1		; MAP INTO FIRST FREE ADDRESS SPACE
		PROTECT,1		; CHECK WRITE ACCESS MODE (WRTMOD)
		PAGFIL,1		; GLOBAL SECTION HAS PAGE FILE BACKING STORE
	>
	S	AMOD,1,B		;ACCESS MODE OF SECTION
	F	,W			;SPARE
	F	REFCNT,L		;COUNT OF PTE'S REFERENCING THIS SECTION
	F	PAGCNT,L		;NO. OF PAGES IN THE SECTION
;
; ***** NOTE THAT NUMBER OF LONG WORDS MUST BE EVEN
;
	L	LENGTH			;SIZE OF PSTE/GSTE

;+
; MATCH CONTROL VIELD VALUES
;-

	K <,,0,1			; BASE OF ZERO , INCR 1
	MATALL				; MATCH ALWAYS, USE GLOBAL SECTION
	MATEQU				; MATCH IF ISD$L_IDENT EQU GBL ID
	MATLEQ				; MATCH IF ISD$L_IDENT LEQ GBL ID
	>


	E

;
; DEFINE SYMBIONT MANAGER REQUEST CODES
;
 
	$STRUCT	SMR
 
	K	<SMR,$K_,0,1		; SYMBIONT MANAGER REQUEST CODES
		INITIAL			; INITIALIZE A QUEUE
		DELETE			; DELETE THE QUEUE
		START			; ACTIVATE OR RESUME PRINTING
		PAUSE			; SUSPEND PRINTING FOR A WHILE
		MERGE			; MOVE FILES FORM ONE QUEUE INTO ANOTHER
		REDIRECT		; ASSIGNMENT OF ONE QUEUE TO ANOTHER
		JUSTIFY			; JUSTIFY PRINT FORMS(IE: ISSUE FF)
		STOP			; DISABLE FURTHER DE-QUEING
		ENTER			; ADD A FILE TO A QUEUE
		CREJOB			; CREATE A PRINT JOB
		ADDFIL			; ADD A FILE TO EXISTING JOB
		CLSJOB			; CLOSE OPEN JOB
		RMVJOB			; REMOVE JOB FROM QUEUE
		ALTER			; CHANGE A FILES CHARACTERISTICS
		ABORT			; ABORT CURRENT JOB, START NEXT
		RELEASE			; RELEASE JOB FROM HOLD LIST
		DETINIT			; DETACHED JOB HAS INITIATED
		SYNCJOB			; SYNCRONIZE WITH A BATCH JOB
		ASKQNAM			; GET NAME OF QUEUE FOR LOG FILE
		>
;
; ASSIGN SYMBIONT MANAGER PRINT JOB/RECORD OPTION CODES
;
;
	K	<SMO,$K_,1,1		; JOB FILE OPTIONS
		DELETE			; DELETE THE FILE AFTER PRINTING
		BRSTPAG			; CREATE A BURST PAGE
		NOBRSTPAG		; INHIBIT BURST PAGE
		FLAGPAG			; PRINT A FLAG PAGE
		NOFLAGPAG		; INHIBIT A FLAG PAGE
		PAGHDR			; PRINT FILENAME AS PAGE HEADER
		DOUBLE			; DOUBLE SPACE THE LISTING
		NOFEED			; INHIBIT FORM FEED GENERATION
		PAGCNT			; SPECIFY PAGE COUNT TO PRINT
		COPIES			; NUMBER OF COPIES TO PRINT
		FILESIZ			; FILE SIZE
		DESTQUE			; DESTINATION QUEUE
		>
 
	K	<SMO,$K_,32,1		; OPTIONS FOR CREATE JOB
		RLSTIM			; TIME TO HOLD UNTIL QUEUEING
		HOLD			; HOLD THE JOB
		JOBPRI			; SPECIFY PRINT JOB/DETACHED JOB PRIOITY
		JOBCOPY			; NUMBER OF COPIES OF ENTIRE JOB
		FORMTYPE		; FORM TYPE TO USED WHEN PRINTED
		LOWER			; UPPER/LOWER CASE PRINTER ONLY
		PARAMS			; SUPPLY JOB PARAMETERS
		JOBNAME			; SUPPLY A NAME TO THE JOB
		NOLOWER			; CLEAR LOWER CASE REQUIRED
		CPULIM			; CPU TIME LIMIT
		NOCPULM			; NO CPU TIME LIMIT
		WSQUOTA			; WORKING SET QUOTA
		NOWSQUO			; NO WORKING SET QUOTA
		WSDEFLT			; WORKING SET DEFAULT
		NOWSDFT			; NO WORKING SET DEFAULT
		DQCHAR			; CHAR. TO BE USED WHEN PRINTED
		LOGFNAM			; LOG FILE SPEC.
		LOGQNAM			; QUEUE NAME FOR LOG FILE
		KEEPLOG			; KEEP LOG FILE
		NOSPOOL			; DON'T SPOOL LOG FILE
		NOKEEPLOG		; DELETE LOG FILE
		NOLOG			; CREATE LOG ON NULL DEVICE
		NOTIFY			; NOTIFY WHEN JOB COMPLETES
		NONOTFY			; NO NOTIFY
		WSEXTNT			; WS EXTENT
		NOWSEXTNT		; NO WS EXTENT
		>
 
	K	<SMO,$K_,64,1		; OPTIONS FOR INIT OR START A QUEUE
		CURFORM			; CURRENT FORMS MOUNTED ON DEVICE
		GENPRT			; ALLOW GENERIC PRINTING
		NOGENPRT		; DISALLOW GENERIC PRINTING
		DETJOB			; QUEUE IS FOR DETACHED JOB QUEUING
		GENDEV			; QUEUE IS GENERIC DEVICE QUEUE
		NOGENDEV		; NOT A GENERIC DEVICE
		DEFBRST			; QUEUE HAS BURST PAGE BY DEFAULT
		NODEFBRST		; NO DEFAULT BURST PAGE
		DEFFLAG			; QUEUE HAS FLAG PAGE BY DEFAULT
		NODEFFLAG		; NO DEFAULT FLAG
		TRMDEV			; DEVICE IS A TERMINAL
		NOTRMDEV		; DEVICE IS NOT A TERMINAL
		JOBLIM			; JOB LIMIT FOR BATCH JOBS
		INIPRI			; JOB INITIAL PRIORITY
		DISWAP			; DISABLE SWAPING
		MCPULM			; MAX CPU TIME LIMIT
		NOMCPULM		; NO MAX CPU TIME LIMIT
		DCPULM			; DEFAULT CPU TIME LIMIT
		NODCPULM		; NO DEFAULT CPU TIME LIMIT
		WSQUTA			; WORKING SET QUOTA
		NOWSQUTA		; NO WORKING SET QUOTA
		WSDFLT			; WORKING SET DEFAULT
		NOWSDFLT		; NO WORKING SET DEFAULT
		CURDQCHAR		; CURRENT CHAR. OF THE QUEUE
		SMBNAME			; SYMBIONT NAME FOR QUEUE
		WSXTANT			; WS EXTENT
		NOWSXTNT		; NO WS EXTENT
		NODISWAP		; ENABLE SWAPPING
		>
 
	K	<SMO,$K_,96,1		; OPTIONS FOR RESTART
		NEXTJOB			; RESTART AT END BEGINNING OF NEXT JOB
		TOPOFILE		; RESTART JOB AT TOP-OF-FILE
		SPCCNT			; SPECIFY PAGES TO SPACE OVER
		>
 
	K	<SMO,$K_,112,1		; OPTIONS FOR ABORT
		REQUEUE			; REQUEUE THE FILE
		REQDEST			; SPECIFY NEW QUEUE DESTINATION
		REQPRIO			; SPECIFY PRIORITY ON REQUEUE
		>
	E

;
; DEFINE SYMBIONT MANAGER QUEUE DATA STRUCTURES
;
;
;
; DEFINE FORMAT FOR RECORDS IN THE QUEUE
;
;	EACH RECORD IN THE QUEUE IS 120 BYTES LONG
;	THERE ARE 3 TYPES OF RECORDS
;
;		1. JOB HEADER FOR BATCH OR PRINT JOBS
;		2. PRINT FILE RECORD
;		3. BATCH JOB RECORD
;	THE LAST 2 HAVE THE SAME LAYOUT
;
	$STRUCT	SYM			; THE RECORD ENVELOP STRUCTURE
 
	F	,T,120			; DUMMY FIELD OF RECORD SIZE
	L	RECSIZE			; SIZE OF THE STRUCTURE
 
	E

 
;
; DEFINE FORMAT FOR SYMBIONT MANAGER JOB HEADER RECORD
;
	$STRUCT	SJH
 
	F	RECLINK			; LINK TO NEXT RECORD
	F	JOBSEQ,W		; JOB SEQUENCE NUMBER
	F	QINDEX,W		; INDEX TO DEVICE QUEUE FOR THIS JOB
	F	NEXTJOB			; LINK TO NEXT PRINT JOB
	F	FLAGS,B			; FLAGS
	V <M				; RECORD FLAGS
		HOLD			; JOB IS ON HOLD
		LOWER			; JOB REQUIRES LOWER CASE PRINTER
		JOBABORT		; JOB WAS ABORTED
		NOSTRT			; DONT PUT BACK IN QUEUE
		NOTIFY			; NOTIFY WHEN JOB COMPLETES
		>
	M	1			; MARK POINT OF OVERLAPPED DEFINITION
	F	FORMS,B			; FORMS TYPE FOR JOB
	F	COPYCNT,B		; NUMBER OF COPIES OF ENTIRE JOB
	P	1			; POINT BACK FOR BATCH QUEUE SLOT
	F	MBCHAN,W		; RESPONCE MAILBOX CHANNEL
	F	PRTPRI,B		; PRINT PRIORITY FOR JOB
	F	PROCID			; PROCESS ID OF OWNER
; ** ADJACENCY OF THE NEXT 2 ITEMS ASSUMED
	F	UIC			; UIC OF OWNER OF JOB
	F	USERNAM,T,12		; NAME OF OWNER
; ** ADJACENCY OF THE LAST 2 ITEMS ASSUMED
	F	ACNTNAM,Q		; ACCOUNT TO GET CHARGED
	F	TIME,Q			; TIME JOB WAS CREATED
	F	JOBNAME,T,10		; JOB NAME
	F	LOGLNK			; LINK TO LOG FILE NAME
	F	QNMLNK			; LINK TO QUE NAME FOR LOG FILE
	F	GQNMFLG			; GENERAL FLAGS
	V <M
		QNMPRES			; QUEUE NAME IS PRESENT
		NOSPOOL			; DON'T SPOOL LOG FILE
		NODELET			; DON'T DELETE AFTER SPOOLING
		LFSPRES			; LOG FILE SPEC PRESENT
		NOLOG			; NO LOG FILE
		DELCLOS			; DELETE LOG FILE ON CLOSE
		>
	F	FILESIZ			; FILE SIZE
	F	FINALSTS		; COMPLETION STATUS OF JOB
	F	REQPRIO,B		; REQUEUE PRIORITY
	F	REQINDX,W		; QUEUE INDEX FOR REQUEUE
	F	REQOPT,B		; ABORT OR REQUEUE OPTION
	F	SPARES,B,2		; SPARES
	F	CPULIM,L		; CPU TIME LIMIT
	F	WSQUTA,W		; WORKING SET QUOTA
	F	WSDFLT,W		; WORKING SET DEFAULT
	F	WSEXTNT,W		; WORKING SET EXTENT
	F	QUOFLG,W		; QUOTA PRESENT FLAGS
	V <M
		CPULIM
		WSQUTA
		WSDFLT
		WSXTNT
		>
	F	PARMBLK			; PARAMETER BLOCK
	F	DQCHAR,T,16		; DEQUEUING CHARACTERISTICS
 
	E

 
;
; DEFINE FORMAT OF SYMBIONT MANAGER QUEUE RECORD
;
	$STRUCT	SQR
 
	F	RECLINK			; LINK TO NEXT RECORD
	F	JOBSEQ,W		; JOB SEQUENCE NUMBER
	F	RECID,W			; ID THIS A RECORD
;
; NOTE:	THE ORDER OF THIS RECORD CAN NOT BE CHANGED WITH OUT EFFECTING
;	THE SYMBIONT, AND THE SYMBIONT MANAGER MESSAGE FORMAT
;
	F	XTRALNK			; LINK TO EXTRA RECORD
	F	VOLNAM,T,16		; VOLUME NAME UPON WHICH FILE RESIDES
	S	DATALOC			; DATA IN EXTRA RECORD STARTS HERE
	F	FILNUM,W		; FILE NUMBER TO PRINT/EXECUTE
	F	FILSEQ,W		; FILE SEQUENCE NUMBER
	F	RELVOL,W		; FILE RELATIVE VOLUME NUMBER
	F	DIRNUM,W		; DIRECTORY FILE NUMBER
	F	DIRSEQ,W		; DIRECTORY SEQUENCE NUMBER
	F	DIRVOL,W		; DIRECTORY VOLUME INDEX
	F	FILNAM,T,20		; 19 BYTE FILE NAME AND A COUNT BYTE
	F	FLAGS,B			; VARIOUS FLAGS
	V <M				; QUEUE RECORD FLAGS
		DELETE			; DELETE THE FILE
		FLAGPAG			; PRINT A FLAG PAGE
		BRSTPAG			; PRINT A BURST PAGE
		DOUBLE			; DOUBLE SPACE THE LISTING
		NOFEED			; NO IMPLIED FORM FEEDS
		PAGHDR			; PRINT FILE NAME AS HEADER
		TEMPDEL			; PLACE HOLDER FOR DELETE BIT
		>
	F	COPYCNT,B		; NUMBER OF COPIES TO PRINTED
	F	PAGCNT,W		; MAXIMUM PAGES TO PRINT
	F	FILESIZ			; FILE SIZE 
	E

;
; DEFINE SYMBIONT QUEUE HEADER RECORD FORMAT
;
	$STRUCT	SQH
 
	F	FREEREC			; OFFSET TO FIRST FREE RECORD
	F	FLAGS,B			; STATUS FLAGS
	F	NUMQUE,B		; NUMBER OF ACTIVE QUEUES
	F	MAXQUE,B		; MAXIMUM NUMBER OF QUEUES
	F	SPARE,B			; SPARE BYTE
	F	FIRSTREC		; FIRST RECORD
	F	NEXTREC			; OFFSET TO NEXT FREE RECORD
	F	LASTREC			; OFFSET TO LAST RECORD IN FILE
	F	OPENJOB			; LIST OF OPEN PRINT JOBS
	F	TIMQUE			; LIST OF JOBS WAITING ON TIME BASES
	F	QUESEQ,W		; QUEUE SEQUENCE NUMBER
	F	,W			; DUMMY SPARE FIELD
	F	QUEUE,Q,32		; 32 PRIORIT ORDER PRINT QUEUES
	L	SIZE			; SIZE OF THE QUEUE HEADER
 
	E

 
;
; DEFINE FORMAT FOR SYMBIONT MANAGER QUEUE HEADER
;
	$STRUCT	SMQ
 
	F	CURRENT			; CURRENTLY PRINTING JOB
	F	HOLDLST			; QUEUE HOLDING LIST
	F	,L			; DUMMY FIELD
	S	FLAGS,,B		; QUEUE FLAG BYTE
	V <M				; QUEUE STATUS FLAGS
		INUSE			; QUEUE IS IN USE
		DETJOB			; QUEUE IS FOR DETACHED JOBS,NOT PRINTER
		PAUSED			; PRINTED IS SUSPENDED
		STOPPED			; QUEUE IS STOPPED
		GENDEV			; QUEUE IS GENERIC
		NOGENERIC		; GENERIC QUEUE PRINTING NOT ALLOWED
		>
	S	FORMS,,B		; FORMS TYPE ON PRINTER AT LAST START
	S	JOBCNT,1,B		; JOB COUNT FOR BATCH QUEUES
	S	CHAR,,B			; CHARACTERISTICS
	V <M				; CHARACTERISTICS FOR DEVICE QUEUES
		DEFFLAG			; DEFAULT A FLAG PAGE
		DEFBRST			; DEFAULT A BURST PAGE
		TRMDEV			; QUEUE IS FOR A TERMINAL
		LOWER			; DEVICE SUPPORTS LOWER CASE PRINTING
		REDIRECT		; DEVICE IS CURRENTLY REDIRECTED
		>
	V <M				; CHARACTERISTICS FOR BATCH QUEUES
		INIPRI,4		; INITIAL PRIORITY
		NOSWAP			; DISABLE SWAPING
		>
	S	JOBLIM,,B		; JOB LIMIT FOR BATCH QUEUES
	F	ASNSCT			; ADDRESS OF ASSIGNED SYMB CONTROL TBL
	F	NAME,T,16		; NAME OF QUEUE
	F	MCPULM,L		; MAX CPU TIME LIMIT
	F	DCPULM,L		; DEFAULT CPU TIME LIMIT
	F	WSQUTA,W		; WORKING SET QUOTA
	F	WSDFLT,W		; WORKING SET DEFAULT
	F	WSEXTNT,W		; WORKING SET EXTENT
	F	QUOFLG,W		; QUOTA PRESENT FLAGS
	V <M
		MCPULM
		DCPULM
		WSQUTA
		WSDFLT
		WSEXTNT
		>
	F	SMBNAME,T,16		; SYMBIONT NAME
	F	PNMTAB,L		; SYMBIONT TYPE - POINTER TO TABLE
	F	DQCHAR,T,16		; DEQUEUING CHARACTERISTICS
	L	SIZE			; SIZE OF THIS STRUCTURE
 
	E

;
; MACROS TO DEFINE SYSTEM SERVICE FAILURE AND STATUS CODES.
;
;
;	$STRUCT	SS
;
; THIS STRUCTURE IS NOW CONTAINED IN 'SSMSG.MDL'


;+
; Define 32-bit VAX-11 error code longword fields
; Changed to agree with Handbook - TNH 26-OCT-77 - CHANGE M 1 to P 1
; Changed to agree with new status value  W. H. Brown 18-NOV-1977
;-

	$STRUCT	STS

	M 1				; Mark position for defining sub-fields below
	V <M				; Define top level fields

	SEVERITY,3			; severity code
	COND_ID,25			; condition id
	CONTROL,4			; control bits
	>				; End of top level fields

	    P 1				; Position back to beg of structure
	    V <M			; Define sub-fields of condition id
	    SUCCESS,1			; Success
	    ,2				; skip severity field
	    MSG_NO,13			; Message number
	    >				; End of message number field

		P 1			; Postion back to beginning of structure
		V <M			; Define sub-fields of message number and fac. no.
		,3			; Skip severity field
		CODE,12			; code
		FAC_SP,1		; 1 if facility specific
		,11
		CUST_DEF,1		; 1 if sub-system is customer (or CSS) defined
		INHIB_MSG,1		; 1 if message should not be printed
		,3			; reserved control bits
		>			; End message number sub-fields

		    P 1			; Postion back to beg of structure
	    	    V<M			;
		    ,16			; Skip message nubmer field
		    FAC_NO,12		; Facility is 12 bits
		    ,4			; Control bits
		    >

;+
; Define severity codes
;-

	K	WARNING,0		; WARNING
	K	SUCCESS,1		; SUCCESSFUL COMPLETION
	K	ERROR,2			; ERROR
	K	INFO,3			; INFORMATION
	K	SEVERE,4		; SEVERE ERROR

	E

;+
; Get System Information Data Identifier Definitions
;
; **** NOTE ****
;
;	New items must always be added to the END of each item list
;	(preceeding the ENDlistname item) so that users will not have
;	to relink.
;-

	$STRUCT	SYI

	C<				; DEFINE DATA TYPES

		SFWTYPE,1		; SYSTEM SOFTWARE ITEM
		HDWTYPE,2		; HARDWARE ITEM
		LISTEND,0		; ITMLST TERMINATOR
		>

	C<,$_,SYI$C_SFWTYPE@8,1		; IDENTIFIER FOR SYSTEM SOFTWARE

		VERSION			; VMS VERSION NUMBER
		LASTSFW			; LAST INDEX
		>

	C<,$_,SYI$C_HDWTYPE@8,1		; IDENTIFIER FOR HARDWARE TYPE

		CPU			; CPU TYPE
		SID			; SYSTEM ID REGISTER
		LASTHDW			; LAST INDEX
		>

	E


;
; TPARSE CONTROL BLOCK. THIS BLOCK IS ONE OF THE ARGUMENTS USED TO CALL TPARSE,
; AND BECOMES THE ARGUMENT LIST TO ACTION ROUTINES.
;
	$STRUCT	TPA
	F COUNT				; ARGUMENT COUNT (NUMBER OF LONGWORDS)
	    K COUNT0,8			; ZERO LEVEL VALUE IS 8
	F OPTIONS			; OPTIONS LONGWORD
	    V <M
	    BLANKS			; PROCESS BLANKS AND TABS EXPLICITLY
	    ABBREV			; ALLOW MINIMAL ABBREVIATION
	    ABBRFM			; ALLOW FIRST MATCH ABBREVIATION
	    ,13
	    AMBIG			; AMBIGUOUS KEYWORD AT THIS STATE
	    >
	    S MCOUNT,3,B		; MINIMUM ABBREVIATION ON KEYWORDS
	F STRINGCNT			; BYTE COUNT OF STRING BEING PARSED
	F STRINGPTR			; ADDRESS OF STRING BEING PARSED
	F TOKENCNT			; BYTE COUNT OF CURRENT MATCHING TOKEN
	F TOKENPTR			; ADDRESS OF MATCHING TOKEN
	F CHAR				; ASCII CODE OF SINGLE CHARACTER TOKEN
	    S CHAR,,B			; BYTE FORM OF SINGLE CHAR CELL
	F NUMBER			; NUMERIC VALUE OF NUMERIC TOKEN
	F PARAM				; PARAMETER LONGWORD FROM STATE TABLE
	L LENGTH0			; LENGTH OF ZERO LEVEL PARAMETER BLOCK
	E

;
; DEFINE TERMINAL SPECIAL SYMBOLS
;
	$STRUCT	TT
	C<TT,$C_,1,1
	BAUD_50,
	BAUD_75,
	BAUD_110,
	BAUD_134,
	BAUD_150,
	BAUD_300,
	BAUD_600,
	BAUD_1200,
	BAUD_1800,
	BAUD_2000,
	BAUD_2400,
	BAUD_3600,
	BAUD_4800,
	BAUD_7200,
	BAUD_9600,
	BAUD_19200,
	>
	C<TT,$_,0,1			; *** MATCHES DCDEF MACRO
	UNKNOWN,0
	VT05,1				; VT05
	VK100,2				; strange terminals
	VT173,3
	FT1,16				; FOREIGN TERMINAL TYPES
	FT2,17
	FT3,18
	FT4,19
	FT5,20
	FT6,21
	FT7,22
	FT8,23				; END OF FOREIGN TYPES
					; RESERVE REST UP TO 32 FOR EXTENSIONS
	LAX,32
	LA36,32
	LA120,33
	LA34,34
	LA38,35
	LA12,36
	LA100,37
	LA24,37
	LQP02,38
	VT5X,64
	VT52,64
	VT55,65
	VT100,96			; VT100
	VT101,97
	VT102,98
	VT105,99
	VT125,100
	VT131,101
	VT132,102
	>
	V<M
	PASSALL,
	NOECHO,
	NOTYPEAHD,
	ESCAPE,
	HOSTSYNC,
	TTSYNC,
	SCRIPT,
	LOWER,
	MECHTAB,
	WRAP,
	CRFILL,
	LFFILL,
	SCOPE,
	REMOTE,
	HOLDSCREEN,
	EIGHTBIT,
	MBXDSABL,
	NOBRDCST,
	READSYNC,
	MECHFORM,
	HALFDUP,
	MODEM,
	OPER
	,1
	PAGE,8,,M
	>
	V<M
	,5
	ALTRPAR,
	PARITY,
	ODD,
	>
	V<M
	,1
	DS_DTR,,,M			;OUTPUT MODEM CONTROL
	,1
	DS_SECTX,,,M
	DS_RTS,,,M
	>
	V<M				;INPUT MODEM CONTROL
	,3
	DS_SECREC,,,M
	DS_CTS,,,M
	DS_CARRIER,,,M
	DS_RING,,,M
	DS_DSR,,,M
	>
	E

	$STRUCT	TT2			;DEVDP1 DEFINITIONS
	V<M
	LOCALECHO,
	AUTOBAUD,	
	HANGUP,
	MODHANGUP,
	BRDCSTMBX,
	XON,
	DMA,
	ALTYPEAHD,
	SETSPEED,
	DCL_MAILBX,		; TEMP DEFINITIONS FOR DCL SPAWN
	DCL_CTRLC,
	DCL_OUTBND,
	,12			; 24 - number of previous definintions
	ANSICRT,		; ANSI, REGIS, BLOCK and AVO 
	REGIS,			; must be contiguous for SCRPKG.
	BLOCK,
	AVO,
	EDIT,
	DECCRT
	>
	E

;+
; Disk usage accounting file produced by ANALYZE/DISK_STRUCTURE utility.
;-

	$STRUCT	USG
	F TYPE,B			; Record type
	    K IDENT,1			; Identification record
	    K FILE,2			; File record

	M 1				; *** Following same as home block ***
	F SERIALNUM			; Pack serial number
	F STRUCNAME,T,12		; Volume set name
	F VOLNAME,T,12			; Volume name
	F OWNERNAME,T,12		; Volume owner name
	F FORMAT,T,12			; Volume format type
					; *** Preceding same as home block ***
	F TIME,Q			; Time usage file created
	L IDENT_LEN			; Length of IDENT record

	P 1
	F FILEOWNER			; File owner UIC
	    S UICMEMBER,,W		; UIC member number
	    S UICGROUP,,W		; UIC group number
	F ALLOCATED			; Blocks allocated, including headers
	F USED				; Blocks used
	F DIR_LEN,W			; Length of directory string
	F SPEC_LEN,W			; Length of complete file specification
	F FILESPEC,T,128		; File spec "[dir]nam.typ;ver"
	L FILE_LEN			; Maximum length of FILE record
	E

;+
; DR11-W DEFINITIONS FOR DEVICE SPECIFIC CHARACTERISTICS
;-
	$STRUCT	XA
	V<M
		DATAPATH,,,M		; USE BUFFERED DATAPATH
		LINK,,,M			; INTERPROCESSOR LINK MODE
	>
	E

;+
;
; DR32 DEFINITIONS FOR COMMAND TABLE, PACKETS, AND CHARACTERISTICS
;
;-

	$STRUCT	XF

	;
	; QIO COMMAND TABLE OFFSETS
	;

	M	1
	F	CMT_CBLKSZ,L		; COMMAND BLOCK SIZE
	F	CMT_CBLKAD,L		; COMMAND BLOCK ADDRESS
	F	CMT_BBLKSZ,L		; BUFFER BLOCK SIZE
	F	CMT_BBLKAD,L		; BUFFER BLOCK ADDRESS
	F	CMT_PASTAD,L		; PACKET AST ADDRESS
	F	CMT_PASTPM,L		; PACKET AST ADDRESS
	F	CMT_RATE,B		; DATA RATE
	F	CMT_FLAGS,B		; FLAGS
	V<
		CMT_SETRTE,,,M		; SET DATA RATE
		CMT_DIPEAB,,,M		; DISABLE PARITY ERROR ABORT
	>
	F	,W			; SPARE
	F	CMT_GBITAD,L		; GO BIT ADDRESS
	L	CMT_LENGTH		; LENGTH OF COMMAND TABLE


	;
	; COMMAND PACKET OFFSETS
	;

	P	1
	F	PKT_FLINK,L		; FORWARD LINK
	F	PKT_BLINK,L		; BACKWARD LINK
	F	PKT_MSGLEN,B		; LENGTH OF DEVICE MESSAGE AREA
	F	PKT_LOGLEN,B		; LENGTH OF LOG AREA
	F	PKT_CMDCTL,B		; COMMAND CONTROL
	V<
		PKT_FUNC,4		;  FUNCTION CODE
		,4			;  MUST BE ZERO
	>
	K<				; FUNCTION CODE VALUES
		PKT_RD,0		;  READ
		PKT_RDCHN,1		;  READ CHAINED
		PKT_WRT,2		;  WRITE
		PKT_WRTCHN,3		;  WRITE CHAINED
		PKT_WRTCM,4		;  WRITE CONTROL MESSAGE
					;  VALUE 5 IS RESERVED
		PKT_SETTST,6		;  SET SELF TEST
		PKT_CLRTST,7		;  CLEAR SELF TEST
		PKT_NOP,8		;  NOP
		PKT_DIAGRI,9		;  DIAGNOSTIC READ INTERNAL
		PKT_DIAGWI,10		;  DIAGNOSTIC WRITE INTERNAL
		PKT_DIAGRD,11		;  DIAGNOSTIC READ DDI
		PKT_DIAGWC,12		;  WRITE CONTROL MESSAGE
		PKT_SETRND,13		;  SET RANDOM ENABLE
		PKT_CLRRND,14		;  CLEAR RANDOM ENABLE
		PKT_HALT,15		;  HALT
	>
	F	PKT_PKTCTL,B		; PACKET CONTROL
	V<
		,3			;  UNUSED
		PKT_CISEL,2		;  CONTROL INTERCONNECT SELECT
		PKT_SLNERR,,,M		;  SUPPRESS LENGTH ERROR
		PKT_INTCTL,2		;  INTERRUPT CONTROL
	>
	K<				; VALUES FOR CONTROL INTERCONNECT SELECT
		PKT_NOTRAN,0		;  NO TRANSMISSION
		PKT_CB,1		;  COMMAND BYTE ONLY
		PKT_CBDM,2		;  COMMAND BYTE AND DEVICE MESSAGE
		PKT_CBDMBC,3		;  CMD. BYTE, DEV. MSG, AND BYTE COUNT
	>
	K<				; VALUES FOR INTERRUPT CONTOL
		PKT_UNCOND,0		;  UNCONDITIONAL INTERRUPT
		PKT_TMQMT,1		;  INTERRUPT ON TERM. QUEUE EMPTY
		PKT_NOINT,2		;  NO INTERRUPT
	>
	F	PKT_BFRSIZ,L		; BUFFER SIZE
	F	PKT_BFRADR,L		; BUFFER ADDRESS
	F	PKT_RMBCNT,L		; RESIDUAL MEMORY BYTE COUNT
	F	PKT_RDBCNT,L		; RESIDUAL DDI BYTE COUNT
	F	PKT_DSL,L		; DR32 STATUS LONGWORD
	V<
		PKT_SUCCES,,,M		;  SUCCESS
		PKT_CMDSTD,,,M		;  COMMAND STARTED
		PKT_INVPTE,,,M		;  INVALID PTE
		PKT_FREQPK,,,M		;  FREE QUEUE PACKET
		PKT_DDIDIS,,,M		;  DDI DISABLE
		PKT_SLFTST,,,M		;  SELF TEST
		PKT_RNGERR,,,M		;  RANGE ERROR
		PKT_UNQERR,,,M		;  UNALIGNED QUEUE ERROR
		PKT_INVPKT,,,M		;  INVALID COMMAND PACKET
		PKT_FREQMT,,,M		;  FREE QUEUE EMPTY
		PKT_RNDENB,,,M		;  RANDOM ENABLE
		PKT_INVDDI,,,M		;  INVALID DDI COMMAND
		PKT_LENERR,,,M		;  LENGTH ERROR
		PKT_DRVABT,,,M		;  DRIVER ABORT
		PKT_PARERR,,,M		;  PARITY ERROR
		,1			;  RESERVED
		PKT_DDISTS,8		;  DDI STATUS
		,8			;  RESERVED
	>
	V<M				; DDI STATUS BITS
		,5			;  SKIP OVER 5 BITS
		PKT_NEXREG,,,M		;  NON-EXISTENT REGISTER
		PKT_LOG,,,M		;  LOG
		PKT_DDIERR,,,M		;  ERROR ON FAR-END DEVICE
	>
	F	PKT_DEVMSG,B		; START OF DEVICE MESSAGE


	;
	; SECOND LONGWORD OF I/O STATUS BLOCK DEFINITIONS
	;

	P	1
	V<
		IOS_SUCCES,,,M		;  SUCCESS
		IOS_CMDSTD,,,M		;  COMMAND STARTED
		IOS_INVPTE,,,M		;  INVALID PTE
		IOS_FREQPK,,,M		;  FREE QUEUE PACKET
		IOS_DDIDIS,,,M		;  DDI DISABLE
		IOS_SLFTST,,,M		;  SELF TEST
		IOS_RNGERR,,,M		;  RANGE ERROR
		IOS_UNQERR,,,M		;  UNALIGNED QUEUE ERROR
		IOS_INVPKT,,,M		;  INVALID COMMAND PACKET
		IOS_FREQMT,,,M		;  FREE QUEUE EMPTY
		IOS_RNDENB,,,M		;  RANDOM ENABLE
		IOS_INVDDI,,,M		;  INVALID DDI COMMAND
		IOS_LENERR,,,M		;  LENGTH ERROR
		IOS_DRVABT,,,M		;  DRIVER ABORT
		IOS_PARERR,,,M		;  PARITY ERROR (CI OR DI)
		,1			;  RESERVED
		IOS_DDISTS,8		;  DDI STATUS
		,3			;  RESERVED
		IOS_BUSERR,,,M		;  BUS ERROR
		IOS_RDSERR,,,M		;  READ DATA SUBSTITUTE ERROR
		IOS_WCSPE,,,M		;  WCS PARITY ERROR
		IOS_CIPE,,,M		;  CONTROL INTERCONNECT PARITY ERROR
		IOS_DIPE,,,M		;  DATA INTERCONNECT PARITY ERROR
	>
	V<M				; DDI STATUS BITS
		,5			;  SKIP OVER 5 BITS
		IOS_NEXREG,,,M		;  NON-EXISTENT REGISTER
		IOS_LOG,,,M		;  LOG
		IOS_DDIERR,,,M		;  ERROR ON FAR-END DEVICE
	>
	E


;
; DEFINITIONS FOR 3271 LINE STATUS BLOCK (RETURNED BY IO$_RDSTATS)
;

	$STRUCT	XKSTS

	L	LSTR			; OFFSET OF BEGINNING OF DATA AREA
	F	CUAD,B			; CONTROL UNIT ADDRESS (HEX EBCDIC)
	F	LSTS,W			; LINE STATUS
		V<M
		ACT			; IF SET, LINE IS 'ON' (ACTIVE IN 3271 MODE)
		DGN			; IF SET, LINE IS EXECUTING A DIAGNOSTIC QIO
		>
	F	PLSZ,B			; POOL SIZE
	F	BSIZ,W			; MAXIMUM BLOCK TO BE RECEIVED FROM IBM
	F	ECNT,B			; ENQ THRESHOLD
	F	TNAK,W			; NUMBER OF NAKS TRANSMITTED
	F	RNAK,W			; NUMBER OF NAKS RECEIVED
	F	TENQ,W			; NUMBER OF ENQS SENT
	F	RENQ,W			; NUMBER OF ENQS RECEIVED
	F	TRVI,W			; NUMBER OF RVIS TRANSMITTED
	F	RRVI,W			; NUMBER OF RVIS RECEIVED
	F	RCNV,W			; NUMBER OF CONVERSATIONAL MODE RESPONSES
					;  RECEIVED
	F	CHAI,W			; NUMBER OF CHAINED WRITES RECEIVED
	F	GPOL,W			; NUMBER OF GENERAL POLLS RECEIVED
	F	XACK,W			; NUMBER OF INVALID ACKS RECEIVED
	F	HABO,W			; NUMBER OF HOST ABORTS ENCOUNTERED
	F	DABO,W			; NUMBER OF DRIVER ABORTS ENCOUNTERED
	F	RTIM,W			; NUMBER OF ACK RESPONSE TIMEOUTS
	F	DISC,W			; NUMBER OF DISCONNECTS ENCOUNTERED
	F	HARD,W			; NUMBER OF HARDWARE FAILURES (INCLUDING
					;  DISCONNECTS) ENCOUNTERED
	F	TBLK,W			; NUMBER OF BLOCKS TRANSMITTED
	F	RBLK,W			; NUMBER OF BLOCKS RECEIVED
	F	HABX,W			; NUMBER OF DUBIOUS ACK OUTS
	F	IEOT,W			; NUMBER OF EOTS IMPLYING ACK
	L	DSTR			; LENGTH OF THE LINE STATUS BLOCK
	E				; END OF LINE STATUS BLOCK
	
;
; 3271 DEVICE STATUS BLOCK
;
; THE DRIVER RETURNS N COPIES OF THIS BLOCK FOLLOWING THE LINE STATUS BLOCK
; IN THE USER'S BUFFER, WHERE N IS THE NUMBER OF ACTIVE DEVICES ON THE LINE.
;

	$STRUCT	XKDEV
	F	DUEB,B			; DEVICE ADDRESS (DU - HEX EBCDIC)
	F	DPID,L			; PROCESS ID OF PROCESS OWNING THIS DU
	F	TBLK,W			; NUMBER OF BLOCKS TRANSMITTED
	F	RBLK,W			; NUMBER OF BLOCKS RECEIVED
	F	SPOL,W			; NUMBER OF SPECIFIC POLLS RECEIVED
	F	ASEL,W			; NUMBER OF ADDRESS SELECTS RECEIVED
	F	CREJ,W			; NUMBER OF COMMAND REJECTS SENT
	L	SIZE			; SIZE OF THE DEVICE STATUS BLOCK
	E



;
; DEFINITIONS FOR STATUS, CHARACTERISTICS AND ERRORS FOR DMC-11/DMR-11/DMP-11
;
	$STRUCT	XM
	V<M				; DEVICE DEPENDENT LONGWORD
	CHR_MOP,			; MOP MODE
	CHR_LOOPB,			; LOOP BACK
	CHR_HDPLX,			; HALF DUPLEX
	CHR_SLAVE,			; HALF DUPLEX SLAVE STATION
	CHR_MBX				; MAILBOX IS ENABLED
	CHR_DMC,			; DMC-11 COMPATABILITY MODE
	CHR_CTRL,			; CONTROL STATION
	CHR_TRIB,			; TRIBUTARY STATION

	STS_DCHK,			; DATA CHECK OCCURED
	STS_TIMO,			; TIMEOUT OCCURED
	STS_ORUN,			; DATA OVER RUN OCCURED
	STS_ACTIVE,			; ACTIVE UNIT
	STS_BUFFAIL,			; BUFFER ALLOCATION FAILURE OCCURED
	STS_RUNNING,			; PROTOCOL RUNNING
	STS_DISC,			; LINE DISCONNECT OCCURED
	,1				; SPARE

	ERR_FATAL,			; HARDWARE ERROR
	,2
	ERR_MAINT,			; DDCMP MAINT MESSAGE RECEIVED
	ERR_LOST,			; DATA LOST BECAUSE OF BUFFER SIZE MISMATCH
	ERR_THRESH			; THRESHOLD ERRORS
	ERR_TRIB,			; TRIBUTARY MALFUNCTIONING
	ERR_START,			; DDCMP START MESSAGE RECEIVED
	>

	V<M				; SET MODEM STATUS FLAGS
	MDM_RTSHLD,			; RTS HOLD
	MDM_STNDBY,			; SELECT STANDBY
	MDM_MAINT2,			; MAINTENANCE MODE 2
	MDM_MAINT1,			; MAINTENANCE MODE 1
	,1				; HALF-DUPLEX
	MDM_FREQ,			; SELECT FREQUENCY
	MDM_RDY,			; DATA TERMINAL READY
	MDM_POLL,			; SELECT POLLING MODEM MODE

	MDM_SELM,			; MODEM INTERFACE PROGRAM SELECTED
	,2				; UNUSED
	MDM_INT,			; INTEGRAL MODEM
	MDM_V35,			; V.35
	,1				; UNUSED
	MDM_RS232,			; RS-232-C OR RS423
	MDM_RS422,			; RS-422
	>

	V<M				; READ MODEM STATUS FLAGS
	MDM_CARRDET,			; CARRIER DETECT
	MDM_MSTNDBY,			; MODEM STANDBY
	MDM_CTS,			; CLEAR TO SEND
	MDM_DSR,			; DATA SET READY
	MDM_HDX,			; HALF-DUPLEX
	MDM_RTS,			; REQUEST TO SEND
	MDM_DTR,			; DATA TERMINAL READY
	MDM_RING,			; RING

	MDM_CHRMOD,			; CHARACTER OR BIT PROTOCOL MODE
	MDM_MCLOCK,			; MAINTENANCE CLOCK
	MDM_MODTEST,			; MODEM TEST MODE
	,3				; UNUSED
	MDM_SIGQUAL,			; SIGNAL QUALITY
	MDM_SIGRATE,			; SIGNAL RATE
	>
	E

;++
;
; XWDEF - System definitions for software DDCMP
;
;--
	$STRUCT	XW
	V	<M
		CHA_FDX,,,M			; Full duplex line
		CHA_XPR,,,M			; Transparency
		CHA_DSR,,,M			; Data Set Ready set
		>

;
; Device dependent status
;
	V	<M
		FAT_STAT,10			; Beginning of fatal stat flags
		INFO_STAT,6			; Start of informational status
		>

;
; Bit definitions for fatal and informational status fields
;
	V	<M
		EOT,,,M				; EOT received
		DATACK,,,M			; Retry threshold exceeded
		NODSR,,,M			; Line not connected
		DISCON,,,M			; Disconnect (DLE, EOT) rcvd
		TRABINTMO,,,M			; Binary transmit timeout
		PIPE_MARK,,,M			; Aborted because of pipe mark
		BADCHAIN,,,M			; Bad record list
		ILLMOD,,,M			; Illegal QIO modifier
		,2
		RVI,,,M				; Buffer ACKed with RVI
		CONACK,,,M			; Buffer ACKed with conver resp
		XPR,,,M				; Buffer rcvd with transparency
		ETXEND,,,M			; Rcvd block ended with ETX
		,2
		PUNCH,,,M			; Punch select found
		HOR_FOR,,,M			; Horizontal forms record rcvd
		>

;
; Read/Write function modifier definition
;
	V	<M
		,13
		IOMOD,3				; I/O modifier field start
		>
	E

