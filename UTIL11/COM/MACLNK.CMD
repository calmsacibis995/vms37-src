;
; VAX/VMS COMMAND FILE TO BUILD THE HASH SYMBOL TABLE MACRO ASSEMBLER
; AS IF FOR AN RSX-11M MAPPED SYSTEM
;
; Eric Baatz 16-Oct-81
;
EXE$:MAC.EXE/-FP/CP/MM,MAP$:MAC.MAP/MA/-SP=
COM$:MACLNK.ODL/MP
;
; OPTION INPUT
;
UNITS=8
;
; LUN 1 = STATIC (SEE BELOW) FOR GCML
; LUN 2 = STATIC (SEE BELOW) FOR ERROR MESSAGES
; LUN 3 = DYNAMIC FOR OBJECT FILE
; LUN 4 = DYNAMIC FOR LISTING FILE
; LUN 5 = DYNAMIC FOR INPUT FILE
; LUN 6 = DYNAMIC FOR MACRO FILE
; LUN 7 = DYNAMIC FOR CROSS REFERENCE FILE
; LUN 8 = LUN W$KLUN = STATIC (SEE BELOW) FOR WORKFILE
;
ASG=TI:1:2,WK:8
TASK=...MAC
PAR=GEN:0:177700
;
; SET STACK SIZE
;
; NOTE THAT STACK SIZE CONTROLS NESTED EXPRESSION DEPTH
;
STACK=192
;
; INHIBIT INCLUSION OF UNUSED FCS READ/WRITE LONG CODE
;
GBLDEF=..RWLG:0
;
; SPECIFY GLOBAL DEFINITIONS FOR THE VIRTUAL MEMORY ROUTINES
;
GBLDEF=W$KLUN:10		;WORK FILE LUN
GBLDEF=N$MPAG:10		;PAGE THRESHOLD FOR FAST SEARCH
GBLDEF=W$KEXT:24		;WORK FILE EXTENSION (20. CONTIG BLKS)
;
; SPECIFY GLOBAL DEFINITIONS TO CONTROL TASK EXPANSION
;	(WORKS ONLY ON A MAPPED RSX-11 SYSTEM)
;
GBLDEF=T$KINC:0			;TASK EXTENSION INCREMENT
GBLDEF=T$KMAX:177700		;MAXIMUM TASK SIZE
;
; SPECIFY GLOBAL DEFINITIONS TO CONTROL INITIAL HASH TABLE ALLOCATION
; FOR PERMANENT AND USER SYMBOL TABLES
;
GBLDEF=N$PSPG:5			;INITIAL NUMBER OF PERMANENT SYMBOL
;				; TABLE PAGES.  SET TO 4 IF NO
;				; CIS SUPPORT.
GBLDEF=N$SYPG:30		;INITIAL NUMBER OF USER SYMBOL
;				; TABLE PAGES.  DECREASE FOR
;				; SMALLER, SLOWER TASK.
;
; SPECIFY DEFAULT OUTPUT PAGE SIZE
;
;	GBLPAT=MACRO:LINPPG:OOOOOO
;
;	WHERE "OOOOOO" REPRESENTS AN OCTAL NUMBER. NOTE THAT
;	MACRO ALWAYS USES THE FIRST THREE LINES AT THE TOP OF
;	THE PAGE FOR TITLE, SUB-TITLE, AND A BLANK LINE.
;
; DEFAULT FROM ASSEMBLY IS 60. LINES (3 HEADER + 57 SOURCE LINES)
;
;
; SPECIFY DEFAULT LISTING OUTPUT FORMAT
;
;	GBLPAT=ASSEM:LCBITS:XXXXXX
;
;	WHERE THE FOLLOWING BIT SIGNIFICANCE APPLIES
;	(BIT ASSERTED IMPLIES ".NLIST"):
;		BEX = 2
;		BIN = 4
;		CND = 10
;		COM = 20
;		LD  = 40
;		LOC = 100
;		MC  = 200
;		MD  = 400
;		ME  = 1000
;		MEB = 2000
;		SEQ = 4000
;		SRC = 10000
;		SYM = 20000
;		TOC = 40000
;		TTM = 100000
;
; THE DEFAULT FROM ASSEMBLY IS 3040
;
GBLPAT=ASSEM:LCBITS:103040
;
; SPECIFY LISTING FILE EXTENSION SIZE
;
;	GBLPAT=MACIO:$LSEXT:OOOOOO
;
;	WHERE "OOOOOO" REPRESENTS AN OCTAL NUMBER (NOTE: POSITIVE
;	MEANS CONTIGUOUS EXTEND AND NEGATIVE MEANS NON-CONTIGUOUS).
;
; DEFAULT FROM ASSEMBLY IS 15. NON-CONTIGUOUS BLOCKS.
;
;
; REMOVING THE SEMICOLON FROM IN FRONT OF THE NEXT GBLPAT
; ALLOWS ABS PSECT SIZES TO BE STORED IN THE GSD.
; THIS IS DONE BY THE RT-11 ASSEMBLER AND IS THEREFORE
; USEFUL WHEN ASSEMBLING "NATIVE" FOR RTEM-11.
;
;GBLPAT=MACIO:ABSSZ:240
;
; ADDING A SEMICOLON IN FRONT OF THE NEXT GBLPAT
; CHANGES THE DEFAULT FOR THE LISTING FILE FROM /SP
; TO /-SP.
;
GBLPAT=MACIO:SPOPT:0
;
/
