;	Version 'V03-000'
;
;****************************************************************************
;*									    *
;*  COPYRIGHT (c) 1978, 1980, 1982 BY					    *
;*  DIGITAL EQUIPMENT CORPORATION, MAYNARD, MASSACHUSETTS.		    *
;*  ALL RIGHTS RESERVED.						    *
;* 									    *
;*  THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND COPIED   *
;*  ONLY IN  ACCORDANCE WITH  THE  TERMS  OF  SUCH  LICENSE  AND WITH THE   *
;*  INCLUSION OF THE ABOVE COPYRIGHT NOTICE. THIS SOFTWARE OR  ANY  OTHER   *
;*  COPIES THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY   *
;*  OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF  THE  SOFTWARE IS  HEREBY   *
;*  TRANSFERRED.							    *
;* 									    *
;*  THE INFORMATION IN THIS SOFTWARE IS  SUBJECT TO CHANGE WITHOUT NOTICE   *
;*  AND  SHOULD  NOT  BE  CONSTRUED AS  A COMMITMENT BY DIGITAL EQUIPMENT   *
;*  CORPORATION.							    *
;* 									    *
;*  DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE  OR  RELIABILITY OF ITS   *
;*  SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.		    *
;* 									    *
;*									    *
;****************************************************************************
;
;++
;   FACILITY
;
;	SYSTEM DUMP ANALYZER
;
;   ABSTRACT
;
;	SYSTEM DUMP ANALYZER DEFINITIONS
;
;   ENVIRONMENT
;
;	NATIVE MODE, USER MODE
;
;   AUTHOR
;
;	TIM HALVORSEN, JULY 1978
;
;   MODIFIED BY
;
;	V02-009	KTA0069		Kerbey T. Altmann	24-Jan-1982
;		Add new option for SHOW POOL/SRP.
;
;	V02-008	KEK0017		K. E. Kinnear	6-Jan-1982
;		Add FWA and GBDSUM to RMS options.
;
;	V02-007	KTA0042		Kerbey T. Altmann	11-Nov-1981
;		Change the value of some conflicting qualifiers.
;
;	V03-006	KEK0010		K. E. Kinnear	28-Aug-1981
;		Add new option flags for SHOW PROC/RMS: BLB,
;		GBD,GBH,TRC,BLBSUM.
;
;	V03-005	KTA0029		Kerbey Altmann	08-Aug-1981
;		Add OPTIONS for SHOW POOL/TYPE=xxx/HEADER
;
;	V004	KEK0004		K. E. Kinnear	30-July-1981
;		Add flags for SHOW RMS and SET RMS.  Also OPTIONS
;		for SHOW PROCESS/RMS[=...]
;
;	V003	MTR0001		Mike Rhodes	19-Jun-1981
;		Remove the SDA status messages definition macro.
;
;	V002	TMH0002		Tim Halvorsen	07-Feb-1981
;		Add flag for EXAMINE/INSTRUCTION
;		Add message NOINSTRAN
;
;	V001	TMH0001		Tim Halvorsen	19-Jan-1981
;		Add SPTNOTFND and change SHORTDUMP to a warning.
;		Change EOF, BACKUP and EXITCMD to warnings.
;--

;
;   $OBJDEF -- OBJECT MODULE DEFINITIONS
;
;   THIS MODULE CONTAINS DEFINTIONS FOR THE FIELDS IN AN OBJECT
;   MODULE RECORD.
;

	$STRUCT	OBJ

	M	1

	F	TYPE,B		; TYPE OF RECORD
	C	<		; DEFINE SYMBOLS FOR EACH RECORD
		HDR		; HEADER RECORD
		GSD		; GLOBAL SYMBOL RECORD
		TIR		; TEXT AND INFORMATION RECORD
		EOM		; END OF MODULE RECORD
		DBG		; DEBUG RECORD
		TBT		; TRACEBACK RECORD
		LNK		; LINK OPTIONS RECORD
		>

	M	2

;
;   DEFINITIONS FOR GLOBAL SYMBOL DEFINITION (GSD) RECORDS
;

	O	1
	F	GSD_TYPE,B	; TYPE OF GSD RECORD
	C	<
		GSD_PSC		; PSECT DEFINITION
		GSD_SYM		; GLOBAL SYMBOL DEFINITION
		GSD_EPM		; ENTRY POINT DEFINITION
		GSD_PRO		; PROCEDURE DEFINITION
		>

	M	3

;
;   FORMAT FOR PSECT DEFINITION
;

	F	PSC_ALI,B	; PSECT ALIGNMENT (2**N)
	F	PSC_FLG,W	; PSECT FLAGS
	V	<M
		PSC_PIC		; POSITION INDEPENT
		PSC_LIB		; DEFINED FROM SHARABLE IMAGE
		PSC_OVL		; OVERLAID PSECT
		PSC_REL		; REQUIRES RELOCATION
		PSC_GBL		; PSECT IS GLOBAL
		PSC_SHR		; POTENTIALLY SHARABLE
		PSC_EXE		; EXECUTABLE
		PSC_RD		; CAN BE READ
		PSC_WRT		; CAN BE WRITTEN
		>
	F	PSC_LEN		; LENGTH OF PSECT
	F	PSC_NAME,T	; PSECT NAME (COUNTED STRING)

;
;   FORMAT FOR GLOBAL SYMBOL DEFINITIONS
;

	P	3

	F	SYM_DTYPE,B	; DATA TYPE (SEE ARCH. HANDBOOK, APP C)
	F	SYM_FLAGS,W	; FLAGS
	V	<M
		SYM_WEAK	; WEAK RESOLUTION (0 = STRONG)
		SYM_DEF		; DEFINITION (0 = REFERENCE)
		SYM_UNI		; UNIVERSAL DEFINITION (0 = LOCAL)
		SYM_REL		; RELATIVE SYMBOL (0 = ABSOLUTE)
		>
	F	SYM_PSIND,B	; PSECT INDEX (ONLY IF DEF)
	F	SYM_VALUE	; VALUE OF SYMBOL (ONLY IF DEF)
	F	SYM_NAME,T	; SYMBOL NAME (COUNTED STRING)

;
;   FORMAT FOR ENTRY POINT RECORDS
;

	P	3

	F	EPM_DTYPE,B	; DATA TYPE (SEE ARCH. HANDBOOK, APP C)
	F	EPM_FLAGS,W	; FLAGS (SAME AS SYM_FLAGS)
	F	EPM_PSIND,B	; PSECT INDEX (ONLY IF DEF)
	F	EPM_VALUE	; VALUE OF SYMBOL (ONLY IF DEF)
	F	EPM_MASK,W	; ENTRY MASK
	F	EPM_NAME,T	; SYMBOL NAME (COUNTED STRING)
;
;   FORMAT FOR END OF MODULE RECORD
;

	P	2

	F	EOM_SEV,B	; ERROR SEVERITY FOR MODULE
	F	EOM_PSIND,B	; PSECT INDEX OF TRANSFER ADDRESS
	F	EOM_TRANS	; TRANSFER ADDRESS

	E


;
;   $SYMDEF -- SDA SYMBOL TABLE DEFINITIONS
;
;   DEFINITIONS FOR A DUMP ANALYZER SYMBOL TABLE ENTRY.
;

	$STRUCT	SYM

	F	VALUE		; VALUE OF SYMBOL
	F	SYMBOL,T,32	; SYMBOL NAME (COUNTED UP TO 31 BYTES)
	L	LENGTH		; LENGTH OF ENTRY
	E



;
;   $NODEDEF -- SYMBOL TABLE TREE NODE DEFINITIONS
;

	$STRUCT	NODE

	F	LEFT		; LEFT SUBTREE POINTER
	F	RIGHT		; RIGHT SUBTREE POINTER
	F	BAL,W		; BALANCE AT THIS NODE (-1,0,1)
	F	PTR		; POINTER TO SYMBOL TABLE ENTRY (SYM$)
	L	LENGTH		; LENGTH OF NODE
	E



;
;   $OPTDEF -- OPTIONS SELECTED FROM COMMANDS
;

	$STRUCT	OPT

	V	<M		; --- SHOW PROCESS OPTIONS
		WSL		; WORKING SET LIST
		PPT		; PROCESS PAGE TABLES
		PST		; PROCESS SECTION TABLE
		REGS		; REGISTERS
		PCB		; PROCESS CONTROL BLOCK
		PHD		; PROCESS HEADER
		SYSPROC		; /SYSTEM ("SYSTEM PROCESS")
		RMS		; RMS STRUCTURES
		RMSD		; RMS STRUCTURES WITH DISPLAY
		>
	V	<M		; --- SHOW POOL OPTIONS
		FREE		; SHOW FREE HOLES
		IRP		; IRP LOOKASIDE LIST
		NONPAGED	; NON-PAGED DYNAMIC POOL
		PAGED		; PAGED DYNAMIC POOL
		LENGTH		; LENGTH SPECIFIED
		LRP		; LRP LOOKASIDE LIST
		SUMMARY		; SUMMARY STATISTICS
		HEADER		; ONLY WANT HEADER
		TYPE		; TYPE SPECIFIED
		SRP		; SRP LOOKASIDE LIST
		>
	V	<M		; --- EXAMINE OPTIONS
		P0		; P0 SPACE
		P1		; P1 SPACE
		SYSTEM		; SYSTEM SPACE
		RANGE		; RANGE SPECIFIED (start:end)
		LENGTH		; LENGTH SPECIFIED (start;length)
		INST		; EXAMINE/INSTRUCTION
		>
	V	<M		; --- SHOW STACK OPTIONS
		ISP		; INTERRUPT STACK
		KSP		; KERNEL STACK
		ESP		; EXECUTIVE STACK
		SSP		; SUPERVISOR STACK
		USP		; USER STACK
		>
	V	<M		; --- SHOW PFN_DATA OPTIONS
		FREE		; FREE PAGE LIST
		MODIFIED	; MODIFIED PAGE LIST
		BAD		; BAD PAGE LIST
		WHOLEPFN	; ENTIRE PFN DATA BASE
		SINGLEPFN	; SINGLE PFN
		>
	V	<M		; --- SHOW PAGE_TABLE OPTIONS
				; SYSTEM PAGE TABLE (USE EXISTING ONE)
		GLOBAL		; GLOBAL PAGE TABLE
		>
	V	<M		; --- SET RMS OPTIONS
		NO		; NEGATE THIS OPTION (MUST BE = 1)
		IFB		; IFAB
		IRB		; IRAB
		IDX		; IDX
		BDB		; BDB
		BDBSUM		; BDB SUMMARY
		ASB		; ASB
		CCB		; CCB
		WCB		; WCB
		FCB		; FCB
		FAB		; FAB
		RAB		; RAB
		NAM		; NAM
		XAB		; XAB
		RLB		; RLB
		BLB		; BLB
		BLBSUM		; BLB SUMMARY
		GBD		; GBD
		GBH		; GBH
		TRC		; TRC
		FWA		; FWA
		GBDSUM		; GBD SUMMARY
		>
	C	<,$M_,,,
		RMSALL,-2		; UPPER 31 BITS ON
		>
	C	<,$M_,,,
		ALL,4095	; 12 BITS ON
		>
	E
